<!DOCTYPE html>
<html>
<head>
  <title>Car Registration Transfer Calculator</title>
  <style>
    body { font-family: Arial; max-width: 600px; margin: 0 auto; padding: 20px; }
    h1 { color: #2c3e50; }
    .result { background: #f8f9fa; padding: 15px; border-radius: 5px; }
    button { padding: 10px 15px; background: #2c3e50; color: white; border: none; cursor: pointer; }
  </style>
</head>
<body>
  <h1>ðŸš— Car Registration Transfer</h1>
  <button onclick="startQuestionnaire()">Start Calculator</button>
  <div id="result" class="result"></div>

  <script>
async function submitToGoogleSheet(responses) {
  const webAppUrl = "YOUR_GOOGLE_SCRIPT_URL"; // Paste the URL here
  const payload = {
    carModel: responses.carModel,
    currentState: responses.currentState,
    newState: responses.newState,
    regNumber: responses.regNumber,
    manufactureYear: responses.manufactureYear,
    exShowroomPrice: responses.exShowroomPrice,
    lifetimeTaxPaid: responses.lifetimeTaxPaid
  };

  try {
    const response = await fetch(webAppUrl, {
      method: "POST",
      body: JSON.stringify(payload)
    });
    alert("Data saved to Google Sheet!");
  } catch (error) {
    alert("Error saving data: " + error);
  }
}

// Modify the existing `run()` function to call this after collecting data:
registrationTransferBot.run = function() {
  const responses = {};
  // ... (keep existing question logic) ...
  const fees = this.calculateFees(responses);
  document.getElementById("result").innerText = `Total Cost: â‚¹${fees.total}`;
  submitToGoogleSheet(responses); // Add this line
};
  </script>
</body>
</html>
